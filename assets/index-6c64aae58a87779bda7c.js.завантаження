"use strict";define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,n,t,r,l){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[3867],{4609:function(e,n,t){t.d(n,{F:function(){return w},Z:function(){return F}});var r={};t.r(r),t.d(r,{close:function(){return x},communication:function(){return g},communicationRow:function(){return b},inline:function(){return Z},overlay:function(){return h},rowPaddingLeft:function(){return E},rowPaddingRight:function(){return v}});var l=t(7896),a=t(31461),o=t(22303),i=t.n(o),c=t(12650),s=t.n(c),u=t(51535),m=t(72279),f=t(98376),d=t(56766),p=t(60238),g="z9BL8K Z1Xqqm _8xiD-i Vjx5XV _0--MrG HlZ_Tf -ZiX0Q",b="q84f1m snL7ze",E="sKmkSN",v="pMa0tB",Z="snL7ze",h="_4iu4Kj mo6ZnF",x="_3ETRgC Md_Vex _9ia6Xz LkH0Rh _2ZBgf",C=t(14863);const k=["children","className","labels","type","isDismissable","onClose"],L=["className","snapLeft","snapRight","withoutPadding","children"],w=e=>{const{className:n,snapLeft:t=!1,snapRight:r=!1,withoutPadding:o=!1,children:c}=e,u=(0,a.Z)(e,L),m=(0,C.B)(w,e);return s().createElement(m,(0,l.Z)({className:i()(n,b,!o&&[!t&&E,!r&&v])},u),c)};var F=e=>{const{children:n,className:t,labels:o={close:"close"},type:c="inline",isDismissable:b=!1,onClose:E=(()=>null)}=e,v=(0,a.Z)(e,k);return s().createElement("div",(0,l.Z)({className:i()(t,g,r[c])},v),b&&s().createElement(u.Z,{"aria-label":o&&o.close,tabIndex:0,preset:m.Wn.transparent,className:i()(p.root,x),onClick:E},s().createElement(d.Z,{src:f.Z})),n)}},19935:function(e,n,t){var r=t(50428);n.ZP=r.Z},20425:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(82151),l=t(12650),a=t(37798),o=t.n(a),i=t(92007);const c=(e,n)=>(t,r)=>e.track({name:t,context:{brands:n,customActionSuffix:r,customLabel:"notification.follow"}});var s=t(58013),u=t(16197),m=t(23087),f=t(47078),d=t(20449),p=t(4609),g=t(19935),b=t(57575),E=t(14381),v=t(22303),Z=t.n(v);const h=e=>{let{title:n,description:t,imageUrl:r,largeImageUrl:a,ctaLabel:o,ctaLink:i,isMobile:c=!1,onClose:s,onCtaClick:v}=e;return l.createElement(p.Z,{style:{borderColor:"#D0D1D3"},type:"overlay",isDismissable:!0,onClose:s,className:Z()({[b.GYS]:c,[E.eD]:c,[E._u]:c})},l.createElement(p.F,null,l.createElement(u.ZP,{preset:m.j3.h4},n)),c&&l.createElement(p.F,{snapLeft:!0,snapRight:!0},l.createElement(g.ZP,{className:f.BH,alt:"logo",src:r,srcSet:r+", "+a+" 2x"})),l.createElement(p.F,null,l.createElement(u.ZP,null,t)),!c&&l.createElement(p.F,null,l.createElement(g.ZP,{className:f.BH,alt:"logo",src:r,srcSet:r+", "+a+" 2x"})),l.createElement(p.F,null,l.createElement(d.Z,{href:i,onClick:v},o)))};var x=t(56926),C=t(85234);const k=e=>{let{notificationData:n,isMobile:t=!1,track:r}=e;const[a,o]=l.useState(!0),i=l.useRef(null);l.useEffect((()=>{r&&r(x.xW),c.current&&(i.current=document.activeElement,c.current.focus())}),[]);const c=l.useRef(null),u=()=>{var e;o(!1),r&&r(x.eF,"close"),null==(e=i.current)||e.focus()};return a?l.createElement("div",{className:C.ZsJ,style:{outline:"none"},ref:c,tabIndex:-1,role:"presentation",onKeyDown:e=>{"Escape"===e.code&&u()}},l.createElement(h,(0,s.Z)({},n,{isMobile:t,onClose:u,onCtaClick:()=>{r&&r(x.eF,"learn more")}}))):null},L="FOLLOW_CUSTOM_NOTIFICATION";var w,F;var N=(0,r.tile)().withTracking((e=>({resolve:()=>({context:{id:e.entity.id}})}))).withRender((e=>{const{context:{deviceInfo:n},tools:{tracking:t}}=e,r=l.useCallback((e=>{var r,a,o,s,u,m;e.communicationOnFollow&&i.f.show(l.createElement(k,{isMobile:n.isMobile,notificationData:(a=e.communicationOnFollow,{title:a.title,description:null!=(w=a.text)?w:"",imageUrl:a.bannerImage.uri,largeImageUrl:a.bannerImageLarge.uri,ctaLabel:null!=(F=null==(o=a.cta)?void 0:o.text)?F:"",ctaLink:(null==(s=a.cta)?void 0:s.uri)?(m=null==(u=a.cta)?void 0:u.uri,m.replace(/\/+$/,"")+"/?redirect_url="+encodeURIComponent(window.location.href)):""}),track:c(t,null==(r=e.brandFamily)?void 0:r.brands)}))}),[n.isMobile,t]);return l.useEffect((()=>(o().on(L,r),()=>o().off(L,r))),[r]),null}))},22303:function(n){n.exports=e},12650:function(e){e.exports=n},12729:function(e){e.exports=t},82151:function(e){e.exports=r},37798:function(e){e.exports=l}},function(e){return e.O(0,[2782],(function(){return n=20425,e(e.s=n);var n})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/entity_follow-brand-notification/index-5608f5cf061fd61b04d5.map