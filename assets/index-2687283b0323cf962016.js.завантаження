define(["classnames","react","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,r){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[9953],{28717:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.def=void 0;var s=a(n(59230));t.def={queryId:s.id}},16891:function(e,t,n){"use strict";var r=n(12650);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.Z=function(e){var t=e.title,n=e.titleId,s=a(e,["title","titleId"]);return r.createElement("svg",i({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M19.877 5.998h-.007a9.05 9.05 0 0 0-5.684-4.256C13.953.748 13.063.002 12 .002s-1.953.746-2.186 1.74A9.058 9.058 0 0 0 4.13 5.999h-.006c-1.24 0-2.25 1.009-2.25 2.25s1.01 2.25 2.25 2.25 2.25-1.01 2.25-2.25a2.24 2.24 0 0 0-.82-1.723 7.57 7.57 0 0 1 4.437-3.28A2.246 2.246 0 0 0 12 4.503c.882 0 1.64-.516 2.008-1.257a7.696 7.696 0 0 1 4.438 3.28 2.236 2.236 0 0 0-.82 1.722c0 1.24 1.01 2.25 2.25 2.25s2.25-1.01 2.25-2.25-1.01-2.25-2.25-2.25zm-15.753 3c-.413 0-.75-.337-.75-.75s.337-.75.75-.75.75.337.75.75-.337.75-.75.75zM12 3.003c-.413 0-.75-.337-.75-.75s.337-.75.75-.75.75.337.75.75-.337.75-.75.75zm7.877 5.995c-.413 0-.75-.337-.75-.75s.337-.75.75-.75.75.337.75.75-.337.75-.75.75z"}),r.createElement("path",{d:"M18.49 19.609c-.345-2.126-1.544-8.196-4.243-10.59 0-.009.003-.017.003-.027 0-1.24-1.01-2.25-2.25-2.25s-2.25 1.01-2.25 2.25l.002.027C7.08 11.39 5.876 17.376 5.52 19.552a2.253 2.253 0 0 0-1.77 2.195c0 1.24 1.01 2.25 2.25 2.25s2.25-1.01 2.25-2.25c0-.876-.509-1.63-1.242-2 .574-3.532 1.773-7.423 3.354-9.224.41.44.991.72 1.639.72s1.228-.28 1.64-.72c1.568 1.786 2.761 5.632 3.34 9.142a2.252 2.252 0 0 0-1.404 2.082c0 1.24 1.01 2.25 2.25 2.25s2.25-1.01 2.25-2.25a2.246 2.246 0 0 0-1.586-2.138zM6 22.497c-.413 0-.75-.337-.75-.75s.337-.75.75-.75.75.337.75.75-.337.75-.75.75zm6-12.755c-.413 0-.75-.337-.75-.75s.337-.75.75-.75.75.337.75.75-.337.75-.75.75zm5.826 12.755c-.413 0-.75-.337-.75-.75s.337-.75.75-.75.75.337.75.75-.337.75-.75.75z"}))}},94595:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r={};n.r(r),n.d(r,{contentWrapper:function(){return s},icon:function(){return c},link:function(){return o},root:function(){return a},rootCommon:function(){return i},text:function(){return l}});var i="cKEsXS _0xLoFW P3OKTW _d3F40 _7ckuOK",a="_8rpR71 cKEsXS _0xLoFW P3OKTW _d3F40 _7ckuOK",s="_0xLoFW be4rWJ yqrcoC JCuRr_",l="yqrcoC JCuRr_",c="usegCv _65i7kZ",o="DputTx yqrcoC DgFgr2 _9l1hln",u=r,d=n(57171),p=n(7896),m=n(31461),f=n(22303),g=n.n(f),b=n(12650),E=n.n(b),h=n(66862),v=n(72438),_=n(16197),S=n(23087),y=n(72297);let k;!function(e){e.STANDALONE="standalone",e.INPUT="input"}(k||(k={}));const z=["children","context","className","icon","iconColor","a11yType","label","cta","styles"],A=E().forwardRef(((e,t)=>{const{context:n=k.STANDALONE,className:r,icon:i,iconColor:a="primary",a11yType:s="polite",label:l,cta:c,styles:o=""}=e,u=(0,m.Z)(e,z),{icon:d="",text:f="",link:b="",contentWrapper:A=""}=o||{},P=g()("_ZDS_REF_SCOPE_",(0,y.T)(o),r),N=g()(d,a&&v.uQ.get(a));let O;E().isValidElement(i)&&(O=E().cloneElement(i,{className:N,color:"custom",size:"s",label:void 0}));const x=Object.assign({className:P,role:"assertive"===s?"alert":"status"},u);let w;w="string"==typeof l?E().createElement(_.ZP,{preset:S.j3.bodySmall},l):l;let D=null;return c&&(D=E().createElement("div",{className:g()(b)},E().createElement(h.A,(0,p.Z)({size:"medium"},c)))),E().createElement("div",(0,p.Z)({},x,{ref:t}),E().createElement("div",{className:g()(A)},O,E().createElement("div",{className:g()(f)},w)),D)}));var P=A;var N=(0,d.D)(u)(P)},33450:function(e,t,n){"use strict";n.d(t,{BB:function(){return a},GY:function(){return i},cV:function(){return r}});const r="#D3F9E9",i="#FFFFFF",a="#1A1A1A"},50333:function(e,t,n){"use strict";n.d(t,{Ie:function(){return u},wq:function(){return a},Jf:function(){return r},BC:function(){return s},GL:function(){return i},w2:function(){return g},R5:function(){return E},bV:function(){return p},uY:function(){return d},c7:function(){return f},vu:function(){return m}});const r=e=>e.find((e=>e.isDefaultOffer)),i=(e,t)=>{var n;if(!t)return;const i=e.simplesWithStock.find((e=>e.sku===t));var a;const s=r(null!=(a=null==i?void 0:i.allOffers)?a:[]);return null==s||null==(n=s.merchant)?void 0:n.id},a=e=>e.find((e=>e.isDefaultOffer)),s=(e,t)=>{var n;if(!t)return;const r=e.simples.find((e=>e.sku===t));var i;const s=a(null!=(i=null==r?void 0:r.allOffers)?i:[]);return null==s||null==(n=s.merchant)?void 0:n.id};class l{constructor(e){this.item=e,this.next=null}}var c=class{enqueue(e){const t=new l(e);null!==this.rear&&(this.rear.next=t),this.rear=t,this.length+=1,null===this.front&&(this.front=this.rear)}dequeue(){if(null===this.front)throw new Error;const e=this.front;if("function"==typeof e.item&&e.item(),this.front=this.front.next,this.length-=1,null!==this.front)return e.item;this.rear=null}dequeueAll(){for(;!this.isEmpty();)this.dequeue()}peek(){if(this.size()>0&&this.front)return this.front.item}size(){return this.length}isEmpty(){return 0===this.size()}constructor(){this.length=0,this.front=null,this.rear=null}};const o=n(80594);const u="UA-38489063-40",d=e=>{let{simples:t,hasSubscribableSimple:n}=e;return n&&t.some((e=>{var t;return"OUT_OF_STOCK"!==(null==(t=e.offer.stock)?void 0:t.quantity)&&e.isSubscribable}))},p=e=>"PRESTIGE_BEAUTY"===e,m=(e,t)=>{if(!t)return e;const n=t.trim().replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=new RegExp("(.*?)(\\s-\\s"+n+")").exec(e);return r&&r[1]||e},f=e=>Array.isArray(e.subscriptions)&&e.subscriptions.length>0,g=(e,t)=>{let n;if(t){const r=b(t.size),i=b(t.ssku),a=b(t.addSizeToWishlist),s=e.simplesWithStock.length>0,l=E(e.simplesWithStock);s&&a?n=v(a,e.simplesWithStock):l?n=_(e.simplesWithStock):s&&r?n=h(r,e.simplesWithStock):s&&i?n=v(i,e.simplesWithStock):s&&e.sizeAdvice&&(n=S(e.sizeAdvice,e.simplesWithStock))}return n},b=e=>Array.isArray(e)?e[0]:e,E=e=>{const t=e.filter((e=>!e.isSample));return 1===(null==t?void 0:t.length)},h=(e,t)=>{const n=t.find((t=>t.size===e));if(n)return n.sku},v=(e,t)=>{if(t.find((t=>t.sku===e)))return e},_=e=>{var t;return null==(t=e.find((e=>!e.isSample)))?void 0:t.sku},S=(e,t)=>{var n;if(y(e))return null==(n=t.find((t=>t.sku===e.recommendedSimple.sku)))?void 0:n.sku},y=e=>Object.prototype.hasOwnProperty.call(e,"recommendedSimple");new class{constructor(){this.enqueueAndDequeue=e=>{this.queue.enqueue(e),this.queue.size()>=20?this.queue.dequeueAll():this.debounceDequeueAll()},this.queue=new c,this.debounceDequeueAll=o((()=>this.queue.dequeueAll()),1e3).bind(this)}}},88099:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});const r={sephora:"SEPHORA",default:"DEFAULT",designer:"DESIGNER",statement:"STATEMENT"};function i(e){return Object.keys(r).reduce(((t,n)=>{var i;return t["is"+(i=n,i.charAt(0).toUpperCase()+i.slice(1))]=()=>(null==e?void 0:e.name)===r[n],t}),{})}const a=e=>{var t;return{hasExperienceStickyBar:!!(null==e||null==(t=e.theme)?void 0:t.logo),experienceName:i(e)}}},3306:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,product_sizing:["pdp.dialog.tile.sizing.review.cta.modal","size_and_fit.onboarding.pdp.prompt_message","size_and_fit.onboarding.pdp.prompt_link","wardrobe.pdp.bought.notification","wardrobe.pdp.returned.notification","wardrobe.pdp.bought.size","wardrobe.pdp.bought.link","wardrobe.pdp.bought.today","wardrobe.pdp.bought.yesterday","wardrobe.pdp.bought.days_ago","wardrobe.pdp.bought.last_month","wardrobe.pdp.bought.months_ago","wardrobe.pdp.bought.last_year","wardrobe.pdp.bought.years_ago","zalando.pdp.samples.trybanner.title","zalando.pdp.samples.trybanner.message","product.pdp.replenishment.activeSubscription.text","product.pdp.replenishment.managesubscriptions.cta","product.pdp.replenishment.bought.notification","product.pdp.replenishment.bought.size","product.pdp.replenishment.alreadybought.cta"]}},65476:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ze}});var r=n(28717),i=n(82151),a=n(88099),s=n(12650),l=n.n(s),c=n(30248);const o=l().createContext(null),u=e=>{let{defaultValue:t,children:n}=e;return l().createElement(o.Provider,{value:t},n)};var d=n(58013),p=n(37798),m=n.n(p);const f=e=>!(!e||!e.offer.stock)&&"OUT_OF_STOCK"!==e.offer.stock.quantity;function g(e){let{simples:t,lastPurchase:n}=e;if(n&&n.simpleSku){var r;const e=null==(r=t.find((e=>e.sku===n.simpleSku)))?void 0:r.size;return e||null}return null}function b(e){return!(!e.isOwned||!e.lastPurchase||"INITIAL"!==e.lastPurchase.status&&"SHIPPED"!==e.lastPurchase.status)}function E(e){let{lastPurchase:t}=e;return!!t&&"RETURNED"===t.status}function h(e){return e.condition&&"PRE_OWNED"===e.condition.kind?"pre-owned":"new"}var v=n(50333);const _=e=>{var t;const{simples:n}=e;return null==(t=n.find((t=>{var n;return t.sku===(null==(n=e.lastPurchase)?void 0:n.simpleSku)})))?void 0:t.size};var S=n(22303),y=n.n(S),k=n(85234),z=n(94595),A=n(16197),P=n(23087),N=n(56926);const O="product detail page",x=e=>"SMALLER_SIZE"===e?"too small":"LARGER_SIZE"===e?"too big":"true to size",w=(e,t)=>t.track({name:N.RX,context:{customCategory:O,customLabel:e}});var D=n(8779),R=n(9543),T=n(99060),Z=n(56766),C=n(16891);function I(e){let{offset:t,message:n,trackingActions:r,isDesignerExperience:i}=e;return(0,s.useEffect)((()=>{((e,t)=>{t.track({name:N.RX,context:{customCategory:O,customLabel:"size flag available",productSizeAdvice:x(e)}})})(t,r)}),[]),i?l().createElement(A.ZP,{tag:"p",preset:P.j3.bodySmall},n):l().createElement("div",{className:y()(T.W$,D.j2,R.m9)},l().createElement(Z.Z,{src:C.Z,size:"s",className:k.ZJQ}),l().createElement(A.ZP,{tag:"p",preset:P.j3.bodySmall},n))}var j=n(5791),F=n(14381),L=n(57575),B=n(60031);var W=(0,s.forwardRef)(((e,t)=>l().createElement(B.Z,{ref:t,className:y()(e.className,j.Us,F.ip,L.sN7),onClick:e.onClick},l().createElement(A.ZP,{tag:"p",preset:e.isDesignerExperience?P.j3.bodySmall:P.j3.bodySmallBold,color:P.d9.primary,style:{textDecoration:"underline"}},e.label))));function M(e){let{trackingActions:t,isSizeOnboardingV3Enabled:n,contextKey:r,isDesignerExperience:i}=e;(0,s.useEffect)((()=>{t.track({name:N.RX,context:{customCategory:O,customLabel:"size dialog available"}})}),[]);const a=(0,s.useRef)(null);return l().createElement(l().Fragment,null,l().createElement("div",{className:y()(k.SJ3,D.j2,R.wZ)},!i&&l().createElement(Z.Z,{src:C.Z,size:"s",className:k.lA3}),l().createElement(A.ZP,{tag:"p",preset:P.j3.bodySmall,className:y()(k.R1P,D.hx)},__("size_and_fit.onboarding.pdp.prompt_message"))),l().createElement(W,{ref:a,className:D.hx,onClick:()=>{n?m().trigger("SHOW_SIZE_FINDER_EVENT_NEW",{entryPoint:"PDP",contextKey:r,callbacks:{close:()=>{var e;null==(e=a.current)||e.focus()}}}):m().trigger("SHOW_SIZE_FINDER_EVENT",{callbacks:{close:()=>{var e;null==(e=a.current)||e.focus()}}}),t.track({name:N.eF,context:{customCategory:O,customLabel:"size dialog available"}})},label:__("size_and_fit.onboarding.pdp.prompt_link"),isDesignerExperience:i}))}function q(e){let{message:t,label:n,trackPreSelection:r,trackingActions:i,isDesignerExperience:a}=e;(0,s.useEffect)((()=>{r()}),[]);const c=(0,s.useRef)(null);return l().createElement("div",{className:y()(T.W$,D.j2,R.$G)},n?l().createElement("div",{className:y()(T.W$,D.j2,R.m9,R.wZ)},!a&&l().createElement(Z.Z,{src:C.Z,size:"s",className:k.ZJQ}),l().createElement(A.ZP,null,l().createElement(A.ZP,{tag:"span",preset:P.j3.bodySmall},n.prefix),l().createElement(A.ZP,{tag:"span",preset:P.j3.bodySmallBold},n.recommendation),l().createElement(A.ZP,{tag:"span",preset:P.j3.bodySmall},n.suffix))):l().createElement(A.ZP,{tag:"p",preset:P.j3.bodySmall,className:D.hx},t),l().createElement(W,{ref:c,className:D.hx,onClick:()=>{m().trigger("SHOW_SIZE_EXPLAINER_EVENT",{callbacks:{close:()=>{var e;null==(e=c.current)||e.focus()}}}),(e=>{e.track({name:N.eF,context:{customCategory:O,customLabel:"why"}})})(i)},label:__("pdp.dialog.tile.sizing.review.cta.modal"),isDesignerExperience:a}))}var V=function(e){let{view:t,trackingActions:n,isSizeOnboardingV3Enabled:r,isDesignerExperience:i,...a}=e;switch(t){case"size_offset":return l().createElement(I,(0,d.Z)({},a,{trackingActions:n,isDesignerExperience:i}));case"size_reco":return l().createElement(q,(0,d.Z)({},a,{trackingActions:n,isDesignerExperience:i}));case"size_finder":return l().createElement(M,(0,d.Z)({},a,{trackingActions:n,isSizeOnboardingV3Enabled:r,isDesignerExperience:i}));default:return null}},U=n(20449);const Y=(e,t)=>__("wardrobe.pdp.bought.notification",e,t),G=(e,t)=>__("wardrobe.pdp.returned.notification",e,t),K=e=>__("wardrobe.pdp.bought.size",e),J=()=>__("wardrobe.pdp.bought.link"),$={today:()=>__("wardrobe.pdp.bought.today"),yesterday:()=>__("wardrobe.pdp.bought.yesterday"),daysAgo:e=>__("wardrobe.pdp.bought.days_ago",e),lastMonth:()=>__("wardrobe.pdp.bought.last_month"),monthsAgo:e=>__("wardrobe.pdp.bought.months_ago",e),lastYear:()=>__("wardrobe.pdp.bought.last_year"),yearsAgo:e=>__("wardrobe.pdp.bought.years_ago",e)},H=()=>__("zalando.pdp.samples.trybanner.title"),X=()=>__("zalando.pdp.samples.trybanner.message"),Q=e=>__("product.pdp.replenishment.activeSubscription.text",e),ee=()=>__("product.pdp.replenishment.managesubscriptions.cta"),te=(e,t)=>__("product.pdp.replenishment.bought.notification",e,t),ne=e=>__("product.pdp.replenishment.bought.size",e),re=()=>__("product.pdp.replenishment.alreadybought.cta");var ie=e=>{const{lastPurchaseTime:t,returnTime:n,size:r,displayBoughtNotification:i,displayReturnedNotification:a,tracking:l}=e;let c=null;if(r&&t){const e="<b>"+K(r)+"</b>";i&&t?c=Y(e,t):a&&n&&(c=G(e,n))}s.useEffect((()=>{i&&t?w("item in wardrobe",l):a&&n&&w("item was returned",l)}),[]);return s.createElement(s.Fragment,null,null!=c&&s.createElement(s.Fragment,null,s.createElement(A.ZP,{className:S({[k.yyM]:i}),tag:"div",preset:P.j3.bodySmall,dangerouslySetInnerHTML:{__html:c||""}}),i&&s.createElement("div",null,s.createElement(U.Z,{href:"/wardrobe/lists/owned",onClick:()=>{(e=>{e.track({name:N.eF,context:{customCategory:O,customLabel:"go to owned items"}})})(l)}},J()))))};const ae=(e,t,n)=>{const r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((i-r)/n)},se=(e,t)=>{var n;return null==(n=$[e])?void 0:n.call($,t)},le=e=>{if(null!==e){const t=new Date(Date.now()),n=new Date(e),r=ae(t,n,864e5),i=ae(t,n,2592e6),a=ae(t,n,31536e6);let s;return r<1?s=se("today",r):r<2?s=se("yesterday",r):r>1&&r<29?s=se("daysAgo",r):r>28&&i<2?s=se("lastMonth",i):i>1&&i<12?s=se("monthsAgo",i):1===a||12===i?s=se("lastYear",a):a>1&&(s=se("yearsAgo",a)),s}},ce=e=>{var t,n;return{size:g(e),lastPurchaseTime:le(null==(t=e.lastPurchase)?void 0:t.purchaseDate),returnTime:le(null==(n=e.lastPurchase)?void 0:n.returnDate),displayBoughtNotification:b(e),displayReturnedNotification:E(e),conditionTrackingLabel:h(e),tracking:e.tools.tracking}};var oe=()=>{const e=(0,s.useContext)(o);if(null!==e){const t={...ce(e)};return l().createElement(ie,(0,d.Z)({},t))}return null},ue=n(51159),de=n(46664);var pe=e=>{const{nextSubscriptionRecurrence:t,tracking:n,locale:r}=e,i=new Date(t).toLocaleDateString(r,{day:"numeric",month:"long",year:"numeric"});return s.createElement("div",null,s.createElement(A.ZP,{tag:"div",preset:P.j3.bodySmall},Q(i)),s.createElement(ue.Z,{size:de.h.large,href:"/myaccount/subscriptions",onClick:()=>{(e=>{e.track({name:N.eF,context:{customCategory:O,customLabel:"manage subscriptions",customActionSuffix:"manage subscriptions"}})})(n)}},ee()))};var me,fe=(0,s.forwardRef)(((e,t)=>l().createElement(B.Z,{ref:t,className:y()(e.className,j.Us,F.ip,L.sN7),onClick:e.onClick},l().createElement(A.ZP,{tag:"p",preset:P.j3.bodySmallBold,color:P.d9.interactive},e.label))));!function(e){e.BANNER="banner"}(me||(me={}));const ge="PDP$RECOMMENDED_SIZE",be="ENTITY$COMPLETED_ADD_REFERENCE_ITEM_DIALOG";var Ee=function(e){const{lastPurchaseSize:t,lastPurchaseTime:n}=e;return s.createElement(s.Fragment,null,n&&t&&s.createElement("div",null,s.createElement(A.ZP,{tag:"div",preset:P.j3.bodySmall,dangerouslySetInnerHTML:{__html:te("<b>"+ne(t)+"</b>",n)}}),s.createElement(fe,{onClick:()=>{m().trigger("PDP$START_SUBSCRIPTION",me.BANNER)},label:re()})))},he=e=>{const{nextSubscriptionRecurrence:t,lastPurchaseTime:n,lastPurchaseSize:r,tracking:i,locale:a}=e;return s.createElement(s.Fragment,null,t?s.createElement(pe,{nextSubscriptionRecurrence:t,tracking:i,locale:a}):n&&r?s.createElement(Ee,{lastPurchaseSize:r,lastPurchaseTime:n}):null)};const ve=e=>{var t,n;let r=null;return(null==e||null==(t=e.subscriptions)?void 0:t[0])&&(r=e.subscriptions[0].recurrence),{nextSubscriptionRecurrence:null==r?void 0:r.nextPurchaseAt,lastPurchaseTime:le(null==(n=e.lastPurchase)?void 0:n.purchaseDate),lastPurchaseSize:_(e),tracking:e.tools.tracking,locale:e.locale}};var _e,Se=()=>{const e=(0,s.useContext)(o);if(null!==e){const t={...ve(e)};return l().createElement(he,(0,d.Z)({},t))}return null},ye=()=>s.createElement(s.Fragment,null,s.createElement("div",null,s.createElement(A.ZP,{preset:P.j3.bodySmallBold},H())),s.createElement("div",null,s.createElement(A.ZP,{preset:P.j3.bodySmall},X()))),ke=n(33450);!function(e){e.SUBSCRIPITION="SUBSCRIPITION",e.WARDROBE="WARDROBE",e.SAMPLES="SAMPLES"}(_e||(_e={}));const ze=y()(k.t4Y,k.SJ3,k.ZsJ);var Ae=e=>{let{displaySizeAdvice:t,notificationBanner:n,trackingActions:r,isSizeOnboardingV3Enabled:i,isDesignerExperience:a,...s}=e;const c=()=>{switch(n){case _e.SUBSCRIPITION:return l().createElement(Se,(0,d.Z)({},s));case _e.WARDROBE:return l().createElement(oe,null);case _e.SAMPLES:return l().createElement(ye,null);default:return null}};return t||n?l().createElement("div",{className:k.c_D},l().createElement("div",null,n&&l().createElement(z.Z,{className:y()(k.c_D,{[k.Op_]:a}),style:a?{backgroundColor:ke.GY}:void 0,label:l().createElement(l().Fragment,null,c())}),t&&l().createElement(z.Z,{className:a?ze:void 0,style:{backgroundColor:a?ke.GY:ke.cV},label:l().createElement(l().Fragment,null,l().createElement(V,(0,d.Z)({trackingActions:r},s,{isSizeOnboardingV3Enabled:i,isDesignerExperience:a})))}))):null};const Pe=e=>{const{simples:t}=e;return e=>t.find((t=>t.sku===e))},Ne=(e,t)=>{const n=(e=>{var t;const n=(0,v.uY)(e),r="SHIPPED"===(null==(t=e.lastPurchase)?void 0:t.status),i=(0,v.c7)(e);return n&&(r||i)})(e),r=function(e){return!!g(e)&&(b(e)||E(e))}(e)&&!t,i=e.hasSample;return n?_e.SUBSCRIPITION:r?_e.WARDROBE:i?_e.SAMPLES:null},Oe=(e,t,n,r,i)=>{var a;const s="ProductSizeAdvicePrompt"===(null==(a=e.sizeAdvice)?void 0:a.__typename),l=!t&&s,c=Ne(e,l);if(e.comingSoon||!e.inStock)return{displaySizeAdvice:!1,notificationBanner:c};const{preselectSsku:o}=e;if(o){const t=Pe(e)(o);if(f(t))return{displaySizeAdvice:!0,notificationBanner:c,view:"size_reco"}}return e.sizeAdvice&&"ProductSizeAdviceOffset"===e.sizeAdvice.__typename?{...xe(e),notificationBanner:c}:n||e.sizeAdvice&&"recommendedSimple"in e.sizeAdvice?{...we(e,n,r,i),notificationBanner:c}:l?{displaySizeAdvice:!0,notificationBanner:c,view:"size_finder",contextKey:e.sizeAdvice.key}:{notificationBanner:c,displaySizeAdvice:!1}};function xe(e){const t=e.sizeAdvice;return{displaySizeAdvice:!0,view:"size_offset",offset:t.recommendedOffset,message:t.message}}function we(e,t,n,r){const i=e.sizeAdvice,a=t||i.recommendedSimple;return f(a)?{displaySizeAdvice:!0,view:"size_reco",message:t?n:i.message,label:t?r:i.label}:{displaySizeAdvice:!1}}const De=(e,t)=>{const{tools:n}=e;return{trackPreSelection:()=>{var r;const i=t||(null==(r=e.sizeAdvice)?void 0:r.recommendedSimple);if(i){var a,s;const e=null==(a=i.offer)||null==(s=a.selectionContext)?void 0:s.selectionMode,t=!!(null==i?void 0:i.hasMeaningfulOffers);((e,t,n,r)=>{const i=r?"offers accessible":"-";e.track({name:N.RX,context:{customCategory:O,customActionSuffix:"size preselection",customLabel:"size reco."+i,customSize:t,productSizeAdvice:t,selectedOfferMode:n}})})(n.tracking,null==i?void 0:i.size,e,t)}},trackingActions:n.tracking}};var Re=()=>{const e=(0,s.useContext)(o),t=!!e&&e.isSizeOnboardingV3Enabled,n=!!e&&e.isDesignerExperience,[r,i]=(0,s.useState)(),[a,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[f,g]=(0,s.useState)();if(null!==e){(0,s.useEffect)((()=>(p.on(ge,((t,n,r)=>{const a=Pe(e)(t);i(a),m(n),g(r),c(!0)})),p.on(be,(()=>c(!0))),()=>{p.off(ge),p.off(be)})),[]);const o={...Oe(e,a,r,u,f),...De(e),isSizeOnboardingV3Enabled:t,isDesignerExperience:n};return l().createElement(Ae,(0,d.Z)({},o))}return null};const Te=e=>({id:e.entity.id});var Ze=(0,i.tile)().withQueries((e=>({data:{query:c,variables:Te(e)}}))).withTracking((e=>({def:r.def,context:{id:e.entity.id}}))).withProcessDependencies((e=>e.data&&e.data.product?{action:"render",data:e.data}:{action:"error",message:"Invalid product"})).withRender((e=>{const{context:{locale:t,navigation:{url:{query:{ssku:n}}},experience:r},data:{product:i},tools:l,ruleData:c}=e,{experienceName:o}=(0,a.T)(r);if(null===i)return null;const d=!!c.isReplenishmentEnabled;return i.hasSubscribableSimple=!!d,s.createElement(u,{defaultValue:{...i,locale:t,..."string"==typeof n&&{preselectSsku:n},tools:l,isSizeOnboardingV3Enabled:!!c.isSizeOnboardingV3Enabled,isDesignerExperience:o.isDesigner()}},s.createElement(Re,null))}))},30248:function(e){e.exports={id:"0dc4d5890c8a2eb66fa53c1adec5681fecd2e7fc38027ef52ab51e6079027168"}},22303:function(t){"use strict";t.exports=e},12650:function(e){"use strict";e.exports=t},82151:function(e){"use strict";e.exports=n},37798:function(e){"use strict";e.exports=r},59230:function(e){"use strict";e.exports=JSON.parse('{"id":"f4e67f9df66088acdc15daf9d655deafc7066c062e206fab792331a4c8f1ee7c"}')}},function(e){var t=function(t){return e(e.s=t)};return e.O(0,[2782],(function(){return t(3306),t(65476)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/product_sizing/index-d1f93784a0be44cdbd24.map