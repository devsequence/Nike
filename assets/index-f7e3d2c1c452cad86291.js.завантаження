"use strict";define(["classnames","react","rendering-engine-api"],(function(e,n,t){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[3145],{81263:function(e,n,t){t.d(n,{L:function(){return o}});var r=t(12650);const o="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},49315:function(e,n,t){t.d(n,{O:function(){return i}});var r=t(12650),o=t.n(r);function i(e,n,t){void 0===n&&(n=!0),void 0===t&&(t=()=>o().createElement(o().Fragment,null));const[r,i]=o().useState((()=>t));return o().useEffect((()=>{n&&async function(e,n){e().then((e=>{n((()=>e))}))}(e,i)}),[n]),r}},99184:function(e,n,t){t.d(n,{ZP:function(){return O}});var r=t(7896),o=t(31461),i=t(22303),s=t.n(i),c=t(12650),a=t.n(c),u=t(57575),l=t(14381),d=t(71270);function f(e){const n=c.useRef(e),t=c.useRef(-1);n.current=e;return[c.useCallback((()=>{cancelAnimationFrame(t.current),t.current=requestAnimationFrame((()=>{n.current()}))}),[]),c.useCallback((()=>{cancelAnimationFrame(t.current)}),[])]}var m=t(49315),v=t(81263);var p=function(e){let n=[],t=null;const r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=o,t||(t=requestAnimationFrame((()=>{t=null,e(...n)})))};return r.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},r};const g=()=>"undefined"!=typeof window&&"ResizeObserver"in window;let h,b=g()?window.ResizeObserver:void 0;const w=()=>h||(h=(()=>{if(!b)return{};const e=new Map,n=new b(p(((n,t)=>{for(const r of n){const n=e.get(r.target);null==n||n.forEach((e=>e(r,t)))}})));return{observer:n,subscribe:(t,r)=>{n.observe(t);const o=e.get(t)||[];o.push(r),e.set(t,o)},unsubscribe:(t,r)=>{const o=e.get(t)||[];if(1===(null==o?void 0:o.length))return n.unobserve(t),void e.delete(t);const i=null==o?void 0:o.indexOf(r);-1!==i&&(null==o||o.splice(i,1)),e.set(t,o)}}})());var E=(e,n)=>{var r;const o=c.useRef(null),i=(0,m.O)((()=>t.e(9127).then(t.bind(t,99127)).then((e=>{let{ResizeObserver:n}=e;return n})).then((e=>(b=e,e)))),!g(),void 0);return c.useEffect((()=>{!o.current&&b&&(o.current=w())}),[i]),(0,v.L)((()=>{const t=e&&"current"in e?e.current:e;return t&&o.current?("function"==typeof o.current.subscribe&&o.current.subscribe(t,n),()=>{var e,r;"function"==typeof(null===(e=o.current)||void 0===e?void 0:e.unsubscribe)&&(null===(r=o.current)||void 0===r||r.unsubscribe(t,n))}):()=>({})}),[e,o.current,n]),(null===(r=o.current)||void 0===r?void 0:r.observer)||{}},x=t(5348),k=t(31949);var y=e=>{let{rootRef:n,childRef:t,disabled:r,peekABoo:o,onPinned:i,onUnPinned:s,offsetTop:a=0}=e;const u=c.useRef(null),l=c.useRef(0),[d,m]=c.useState(0),[v,p]=c.useState({height:0,top:0}),[g,h]=c.useState(!1),b=c.useCallback((()=>{const e=(()=>{if(!n.current)return 0;const e=n.current.getBoundingClientRect().top,t=window.scrollY||window.pageYOffset;return e<0?t-Math.abs(e):e+t})();p((n=>{var r;return Object.assign({},n,{height:(null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0,top:e})}))}),[t,n]);c.useEffect((()=>{b()}),[b]);const w=c.useCallback((e=>{if(!t.current||r)return;const n=window.scrollY||window.pageYOffset;if(n<0||void 0===v.top)return;const c=n-l.current>0?"down":"up";if(o){const e=d+l.current-n,t="down"===c?Math.max(e,-v.height):Math.min(e,0);m(t)}const u=g;n+a-(o&&"down"===c?v.height:0)>=v.top?(h(!0),"function"==typeof i&&!0!==u&&setTimeout((()=>{i(e)}),0)):(h(!1),"function"==typeof s&&!1!==u&&setTimeout((()=>{s(e)}),0)),l.current=n}),[t,v,a,r,i,s,g,o,d]),[y]=f(w),[P]=f(b);return E(t,b),E(u,b),c.useEffect((()=>((0,x.jU)()&&!r?(u.current=document.body,window.addEventListener("scroll",y),window.addEventListener("resize",P)):(0,x.jU)()&&r&&(window.removeEventListener("scroll",y),window.removeEventListener("resize",P),h(!1)),()=>{(0,x.jU)()&&!r&&(window.removeEventListener("scroll",y),window.removeEventListener("resize",P))})),[y,P,r]),c.useEffect((()=>{r||(0,k.K)(y,{timeout:100})}),[y,r]),{isFixed:g,dimensions:v,customOffsetTop:d}};var P=e=>{let{rootRef:n,childRef:t,isFixed:r,dimensions:o,customOffsetTop:i,offsetTop:s=0,peekABoo:a=!1,customZIndex:u=999999}=e;c.useEffect((()=>{if(!n.current||!t.current)return;if(0!==o.height){const e={height:"100%",position:"relative","min-height":o.height+"px","max-height":o.height+"px"};Object.assign(n.current.style,e)}const e={left:0,width:"100%",transform:"translateZ(0)","z-index":u,top:r?a?i+"px":s+"px":0,position:r?"fixed":"relative"};Object.assign(t.current.style,e)}),[n,t,u,o.height,a,r,i,s])};const R={low:999,medium:9999,high:99999},Z={default:u.tSE,tertiary:u.cLm,transparent:u.sN7},N=["children","className","offsetTop","zIndex","disabled","bgColor","onPinned","onUnPinned","peekABoo"];var O=a().forwardRef(((e,n)=>{let{children:t,className:i,offsetTop:c=0,zIndex:f="low",disabled:m=!1,bgColor:v="tertiary",onPinned:p,onUnPinned:g,peekABoo:h=!1}=e,b=(0,o.Z)(e,N);const w=a().useRef(null),E=a().useRef(null),x=(0,d.Z)(n,E),k=a().useMemo((()=>"number"==typeof f?f:R[f]),[f]),{isFixed:O,dimensions:z,customOffsetTop:B}=y({rootRef:w,childRef:E,disabled:m,peekABoo:h,onPinned:p,onUnPinned:g,offsetTop:c});return P({rootRef:w,childRef:E,peekABoo:h,isFixed:O,dimensions:z,offsetTop:c,customOffsetTop:B,customZIndex:k}),a().createElement(a().Fragment,null,a().createElement("header",{ref:w},a().createElement("nav",(0,r.Z)({ref:x,className:s()(Z[v],i,"transparent"!==v&&s()(l.PP,l.X_,l._u,l.eD,u.tjr))},b),t)))}))},95011:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(56926),o=t(8779),i=t(7896),s=t(22303),c=t.n(s),a=t(12650),u=t.n(a),l=t(99184),d=t(57575),f=t(68747),m=t(33467),v=t(9543),p=t(14641),g=t(66996),h=t(75815),b=t(31461),w=t(14381),E=t(85234),x=t(1104),k=t(48633),y=t(71179);const P=["isPinned"];var R=e=>{let{isPinned:n=!1}=e,t=(0,b.Z)(e,P);return a.createElement(y.ZP,(0,i.Z)({},t,{className:c()(E.NMN,"_2byyvr uyN29S",w.B4,w.eB,d.U3x,k.lh,o.j2,n&&"UbzB98")}),a.createElement("span",{className:c()(m.Mx,o.j2,"TUEnbj iXbgaG")},a.createElement(x.Z,{icon:"ZalandoLogoFilled",color:"brand",size:"s"})))};var Z=e=>{let{children:n,stickNavProps:t={},zalandoLogo:r}=e;const[s,a]=(0,g.O)(!1);return u().createElement(l.ZP,(0,i.Z)({},t,{bgColor:"transparent",className:c()(p.Zw,m.Mx,null==t?void 0:t.className),onPinned:(0,h.Z)(null==t?void 0:t.onPinned,(()=>a(!0))),onUnPinned:(0,h.Z)(null==t?void 0:t.onUnPinned,(()=>a(!1)))}),u().createElement("div",{className:c()(d.BBE,f.c74)},u().createElement("div",{className:c()(f.O7B)},u().createElement("div",{className:c()(f.T5m,f.ZCY)},u().createElement("div",{className:c()(o.j2,v.wZ)},u().createElement(R,(0,i.Z)({},r,{isPinned:s})),u().createElement("div",{className:c()(o.j2,v.wZ,v.Si,"R0amLN uyN29S",s&&"JW7xbV")},n))))))},N=t(72496),O=t(82151);function z(e,n,t){return{customLabel:(t||e)+" logo",customCategory:e+" "+n}}var B=(0,O.tile)().withTracking((e=>({resolve:()=>({context:{id:e.entity.id}})}))).withRender((e=>{let{context:n,tools:t,ruleData:i}=e;var s,u;const{experience:l}=n;if(!(null==l||null==(s=l.theme)?void 0:s.logo))return null;const[f,m]=a.useState(!1),{theme:p,name:g}=l,h=i.premise,b=function(e){const{protocol:n,hostname:t}=e.navigation.url;return n+"//"+t}(n);let x;a.useEffect((()=>{t.tracking.track({name:r.xW,context:z(g,h)})}),[g,h]);const{logo:k}=p;k&&k.uri?x=k.uri:t.logger.warn({sourceCodeMarker:"ExperienceThemeLogo could not be found",experienceName:l.name});const P=a.useMemo((()=>a.createElement(N.Z,{src:x,style:{width:104}})),[x]);h||t.logger.warn({sourceCodeMarker:"Missing premise name on Experience Sticky Bar tracking context"});return a.createElement(a.Fragment,null,a.createElement(Z,{zalandoLogo:{href:p.zalandoHomeUri||b,style:{cursor:"pointer"},onClick:()=>{t.tracking.track({name:r.eF,context:z(g,h,"zalando")})}},stickNavProps:{zIndex:99,onPinned:()=>{f||(t.tracking.track({name:r.xW,context:z(g,h,"zalando")}),m(!0))}}},p.experienceHomeUri?a.createElement(y.ZP,{className:c()(o.co),href:p.experienceHomeUri,onClick:()=>{t.tracking.track({name:r.eF,context:z(g,h)})},style:{cursor:"pointer"}},P):a.createElement(a.Fragment,null,P)),(null==(u=p.brandedBar)?void 0:u.brand.logo.uri)&&a.createElement("div",{className:c()(o.j2,v.j2,d.GYS,w.X_,w.PP,d.rGJ,E.cRY,E.yyM),style:{height:44}},a.createElement(N.Z,{src:p.brandedBar.brand.logo.uri,style:{width:"auto",height:"100%"}})))}))},22303:function(n){n.exports=e},12650:function(e){e.exports=n},82151:function(e){e.exports=t}},function(e){return e.O(0,[2782],(function(){return n=95011,e(e.s=n);var n})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/entity_experience-sticky-bar/index-024625e6ce1a013d807f.map