define(["classnames","react","rendering-engine-api"],(function(e,t,r){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[3129],{28717:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.def=void 0;var l=o(r(59230));t.def={queryId:l.id}},19935:function(e,t,r){"use strict";var n=r(50428);t.ZP=n.Z},79064:function(e,t,r){"use strict";var n=r(7896),a=r(31461),o=r(12650),l=r(35688),c=r(20449),i=r(78968),u=r(51080);const s=["linkStyle"],d=o.forwardRef(((e,t)=>{let{linkStyle:r}=e,d=(0,a.Z)(e,s);switch(r){case"navigational":return o.createElement(i.M,(0,n.Z)({},d,{forwardedRef:t}));case"navigational-sale":return o.createElement(u.p,(0,n.Z)({},d,{forwardedRef:t}));case"icon":return o.createElement(c.J,(0,n.Z)({},d,{forwardedRef:t}));default:return o.createElement(l.L,(0,n.Z)({},d,{forwardedRef:t}))}}));t.Z=d},83754:function(e,t,r){"use strict";r.d(t,{f:function(){return N}});var n=r(12650),a=r.n(n),o=r(22303),l=r.n(o),c=r(8779),i=r(57575),u=r(85234),s=r(9543),d=r(16197),f=r(23087),m=r(19935);const v={day:"numeric",month:"long",year:"numeric"},p={hour:"numeric",minute:"numeric",hour12:!1},h=(e,t,r)=>{const n=/\[(.*?)\]/g;let a=n.exec(e);const o=new Array;for(;null!=a;)o.push({exactMatch:a[0]||"",placeholder:a[1]||"",index:a.index}),a=n.exec(e);if(0===o.length)return;const l=o.find((e=>e.placeholder.toLowerCase()==="Date".toLowerCase()));if(!l)return;e=e.replace(l.exactMatch,t.date);const c=o.find((e=>e.placeholder.toLowerCase()==="Time".toLowerCase()));return c&&(e=e.replace(c.exactMatch,null!=r?r:t.time)),e};var g=e=>{let{text:t,releaseDate:r}=e;const[o,l]=(0,n.useState)(h(t,r,""));return(0,n.useEffect)((()=>{l(h(t,r))}),[]),a().createElement("span",null,o)};var x=e=>{let{text:t,releaseDate:r}=e;const n=r&&a().createElement(g,{text:t,releaseDate:r});return a().createElement(d.ZP,{preset:f.j3.body,color:f.d9.primary,font:f.Zx.serif},n||t)},E=r(96558),b=r(69458),w=r(35930);var k=e=>{let{cta:t,ctaType:r,onClick:a}=e;const o=()=>{a(),t.uri&&(window.location.href=t.uri)};return t.text?"PRIMARY"===r?n.createElement(b.K,{className:E.Lo,label:t.text,onClick:o}):n.createElement(w.k,{className:E.Lo,label:t.text,onClick:o}):null},y=r(40691),C=r(56766),Z=r(79064),S=r(46664);var L=e=>{let{cta:t,onClick:r,tools:a}=e;return t.text?n.createElement(d.ZP,{preset:f.j3.bodySmallBold},n.createElement(Z.Z,{size:S.h.medium,linkStyle:"navigational",onClick:()=>{r(),a.customer.performLogin({})},style:{cursor:"pointer"}},t.text)," ",n.createElement(C.Z,{src:y.Z,fontSize:"custom"})):null};var N=e=>{let{title:t,header:r,releaseDate:a,locale:o,description:h,cta:g,ctaType:E,footer:b,showFooterCta:w,onCtaClick:y,onFooterCtaClick:C,tools:Z}=e;var S,N,P;const j=void 0!==a?((e,t)=>{if(!e)return;const r=new Date(e);return{date:r.toLocaleString(t,v),divider:"@",time:r.toLocaleString(t,p).toLocaleLowerCase(t)}})(a,o):void 0;return n.createElement("div",{className:l()(c.j2,i.ROZ,u.jaX,s.Jt)},r&&n.createElement("div",{className:l()(c.j2,s.wZ)},(null==r?void 0:r.logo)&&n.createElement(m.ZP,{src:null==r||null==(S=r.logo)?void 0:S.uri,width:null==r||null==(N=r.logo)?void 0:N.width,className:u.lA3}),n.createElement(d.ZP,{preset:f.j3.bodyLarge,tag:"h2"},r.label)),n.createElement("div",{className:l()(u.N6)},n.createElement(d.ZP,{preset:f.j3.bodyBold,tag:"p"},t)),h&&n.createElement("div",{className:l()(u.kBE)},n.createElement(x,{text:h,releaseDate:j})),g&&n.createElement("div",{className:l()(u.N6)},n.createElement(k,{ctaType:E,cta:g,onClick:y})),w&&(null==b||null==(P=b.cta)?void 0:P.uri)&&n.createElement("div",{className:l()(u.N6)},n.createElement(d.ZP,{preset:f.j3.bodySmall},b.text),"Â ",b.cta&&n.createElement(L,{cta:b.cta,onClick:C,tools:Z})))}},9879:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(12650),a=r.n(n),o=r(28717),l=r(82151),c=r(9493),i=r.n(c),u=r(85234),s=r(83754);var d=r(56926);const f="product detail page",m=(e,t,r)=>{e.track({name:d.eF,context:{customCategory:f,customActionSuffix:"banner",customLabel:t+".cta."+r}})};var v=e=>{let{banner:t,inStock:r,locale:o,tools:c}=e;const{releaseDate:i,header:u,footer:v,description:p,cta:h,title:g}=(e=>{var t,r,n,a,o,l,c,i,u,s;return{header:{label:(null==e||null==(t=e.header)?void 0:t.label)?e.header.label:void 0,logo:{width:(null==e||null==(r=e.header)||null==(n=r.logo)?void 0:n.width)?e.header.logo.width:void 0,uri:(null==e||null==(a=e.header)||null==(o=a.logo)?void 0:o.uri)?e.header.logo.uri:void 0}},title:null!=(i=e.title)?i:void 0,releaseDate:null!=(u=e.releaseDate)?u:void 0,description:null!=(s=e.description)?s:void 0,cta:(null==e?void 0:e.cta)?{text:e.cta.text,uri:e.cta.uri}:void 0,footer:{text:(null==e||null==(l=e.footer)?void 0:l.text)?e.footer.text:void 0,cta:(null==e||null==(c=e.footer)?void 0:c.cta)?{text:e.footer.cta.text,uri:e.footer.cta.uri}:void 0}}})(t),[x,E]=(0,n.useState)(h);(0,n.useEffect)((()=>{x&&E({...x,uri:x.uri.replace(/\/+$/,"")+"/?redirect_url="+encodeURIComponent(window.location.href)})}),[]);const b=r?"PRIMARY":"SECONDARY";return a().createElement(l.ViewTracker,{onVisible:()=>{return e=c.tracking,r=t.id,void e.track({name:d.xW,context:{customCategory:f,customActionSuffix:"banner",customLabel:r}});var e,r}},a().createElement(s.f,{header:u,title:g,locale:o,releaseDate:i,footer:v,description:p,cta:x,onCtaClick:()=>{m(c.tracking,t.id,"button")},onFooterCtaClick:()=>{m(c.tracking,t.id,"link")},ctaType:b,showFooterCta:!0,tools:c}))},p=(0,l.tile)().withQueries((e=>({product:{query:i(),variables:{id:e.entity.id}}}))).withTracking((e=>({def:o.def,context:{id:e.entity.id}}))).withProcessDependencies((e=>{if(!e||!e.product)return{action:"error",message:"Invalid product"};const{product:t}=e.product;return t?{action:"render",data:{product:t}}:{action:"error",message:"Invalid product"}})).withRender((e=>{let{context:{locale:t},data:r,tools:a}=e;const{segmentCommunication:o,inStock:l}=r.product;return o?n.createElement("div",{className:u.PiS},n.createElement(v,{banner:o,inStock:l,locale:t,tools:a})):null}))},9493:function(e){e.exports={id:"a302cdc892f2bd53939c22f8d04022361432507d57ae16828a9c63236077e615"}},22303:function(t){"use strict";t.exports=e},12650:function(e){"use strict";e.exports=t},82151:function(e){"use strict";e.exports=r},59230:function(e){"use strict";e.exports=JSON.parse('{"id":"f4e67f9df66088acdc15daf9d655deafc7066c062e206fab792331a4c8f1ee7c"}')}},function(e){return e.O(0,[2782],(function(){return t=9879,e(e.s=t);var t})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/product_segmented-banner/index-243fe1fdd0de2e71d154.map